https://ftli374.streamlit.app/

# 🏗️ 建築施工工期估算輔助系統 (Construction Schedule Estimator)

**目前版本：v6.36**

這是一個基於 Python 與 Streamlit 開發的互動式建築工期評估工具。旨在協助建築師、專案經理與營建團隊，在規劃階段快速依據建築規模、結構型式、施工工法與基地條件，推算出合理的工程進度排程（CPM）與甘特圖。

## 🌟 核心功能

* **參數化估算**：輸入樓層、面積、工法，自動連動工期計算公式。
* **視覺化排程**：即時生成互動式甘特圖 (Gantt Chart)，顯示要徑與工項相依性。
* **專業工法邏輯**：內建順打/逆打、連續壁/全套管、鋼構/RC 等多種工法差異化參數。
* **風險自動偵測**：自動判斷是否需結構外審或危評，並建議行政緩衝期。
* **Excel 報表導出**：一鍵下載包含詳細工項與參數設定的專業報表。

---

## 🚀 快速開始

### 環境需求

* Python 3.8+

### 安裝依賴套件

請確保安裝以下 Python 函式庫：

```bash
pip install streamlit pandas plotly openpyxl

```

### 啟動系統

將程式碼儲存為 `app.py` (或其他名稱)，於終端機執行：

```bash
streamlit run app.py

```

---

## ⚙️ 系統邏輯與參數說明 (v6.36)

本系統採用「基準工期 x 規模係數 x 難度係數」的邏輯進行運算。以下為各階段核心演算法：

### 1. 結構與工法 (Core Structure)

* **地上結構速率 (天/層)**：
* **SS (純鋼骨)**：7 天 (以一節3層/21天換算)
* **SC (鋼骨鋼筋混凝土)**：21 天
* **RC / SRC**：25 天


* **塔吊安裝 (Tower Crane)**：
* **觸發條件**：地上層數  15F 或 結構為 SS/SC/SRC。
* **工期**：強制插入 20 天 (含安裝與勞檢)，作為地上結構之前置要徑。



### 2. 地下與基礎 (Basement & Foundation)

* **地下結構速率**：基準 **38 天/層**。
* **工法差異**：
* **順打工法**：若有支撐，每層額外 +10 天拆撐時間。
* **逆打工法**：結構工期係數 x1.2 (施工難度高)，免拆撐時間，但在擋土壁後增加 **45 天** 逆打鋼柱 (King Post) 施作期。
* **放坡開挖**：免拆撐時間。


* **基礎加成**：
* 筏式基礎：+0 天。
* 壁樁 (Barrette)：+80 天。
* 全套管基樁：+90 天。



### 3. 拆除與基地現況 (Demolition & Site)

* **拆除基準**：
* 地上拆除：55 天。
* 地下結構破除：135 天。
* 全棟拆除 (含地下)：180 天。


* **進階策略影響**：
* **全套管清障**：拆除工期大幅增加，且連續壁前置作業增加 (CLSM回填+地改)。
* **不回填 (構台)**：拆除時間略減，但連續壁前置作業增加 (架設施工構台)。



### 4. 風險評估 (Risk Assessment)

系統會根據樓層規模自動偵測法規門檻：

* **結構外審**：地上  16F (約 50m)。
* **丁類危評**：地上  25F (約 80m) 或 地下  B4 (開挖 >15m)。
* **緩衝期**：觸發時建議勾選加入 **90~120 天** 行政作業時間。

---

## 🖥️ 介面操作指南 (v6.36 配置)

介面已依照工程邏輯優化為五大區塊：

1. **核心構造與工法**：
* 設定建物類型 (住宅/商辦...)、順打/逆打、地上/地下結構材質。


2. **基地現況與前置作業**：
* 設定基地是否需拆除、舊地下室處理策略 (深導溝/全套管)、地質改良與危評設定。


3. **大地工程與基礎**：
* 選擇擋土系統 (逆打會強制鎖定樓板支撐) 與基礎型式 (如樁筏共構)。


4. **規模量體設定**：
* 輸入基地面積、總樓地板面積、樓層數 (F/B) 與每日出土量限制。


5. **外觀與機電裝修**：
* 選擇外牆材質 (影響封圍時間) 與是否納入機電/裝修/景觀工程。



---

沒問題！這是一份完整的 **建築施工工期估算輔助系統 (v1.0 ~ v6.36)** 全版本演進紀錄。

這份清單按 **時間順序 (Chronological Order)** 排列，完整呈現了系統如何從一個簡單的計算器，逐步加入專業工法邏輯，最終演變成符合實務需求的專家系統。

---

# 📜 系統版本演進全紀錄 (History Changelog)

## 🏗️ 第一階段：核心架構建立 (MVP Phase)

**目標：建立基本運算框架與視覺化介面。**

* **v1.0**：專案啟動。建立基礎 Python 運算腳本，實作最簡易公式 `工期 = 樓層 x 15天`。
* **v1.5**：導入 **Streamlit** 框架，將終端機介面轉為網頁互動介面，新增「地上/地下層數」輸入框。
* **v2.0**：引入 **Plotly** 繪圖引擎，首度實作「甘特圖 (Gantt Chart)」視覺化功能。
* **v2.5**：新增 **「用途係數 (Usage Factor)」**，區分住宅、廠房、辦公大樓的工期差異。
* **v3.0**：新增 **「規模係數 (Area Multiplier)」**，針對大基地 (>500坪) 與大樓地板面積 (>3000坪) 自動加成工期。
* **v3.5**：實作 **「日期計算引擎」**，引入 Calendar 模組，支援「排除週六/週日」與「扣除春節」功能。

## ⚙️ 第二階段：工法與結構參數細化 (Structural Depth)

**目標：區分不同結構與大地工程的特性。**

* **v4.0**：結構型式細分。區分 **RC、SRC、SC、SS** 四種材質，給予不同的單層工期參數。
* **v4.5**：大地工程細分。新增 **「開挖擋土系統」** 選單，區分連續壁、鋼板樁、預壘樁的開挖速度係數。
* **v4.8**：基礎工程細分。新增 **「基礎型式」**，針對樁基礎給予額外工期加成。
* **v5.0**：商業功能強化。引入 **Openpyxl**，實作 **「Excel 報表導出」** 功能。
* **v5.5**：**集合住宅支援**。新增多棟別輸入表格 (Data Editor)，結構工期依最高棟計算，驗收依棟數加成。
* **v5.8**：介面美化。導入 CSS 樣式，確立黃/黑/灰的工程警示色系風格。

## 🧠 第三階段：邏輯串接與基礎參數 (Logic Integration)

**目標：建立工項之間的相依關係 (CPM)。**

* **v6.0**：**要徑法 (CPM) 實作**。建立工項間的 `Finish-to-Start` 連動邏輯 (例如：擋土完成才做支撐，支撐完成才開挖)。
* **v6.10**：新增 **「基地現況」** (素地/舊建物) 與 **「地質改良」** 選項，初步納入拆除工期。
* **v6.15**：新增 **「外牆工程」** 計算邏輯，並使用 Expander 收納參數區塊。
* **v6.17**：**基礎穩定版**。至此版本，系統具備通用的估算能力，但參數較為籠統 (例如 RC 當時僅設 14 天)。

---

## 🚀 第四階段：專家協作與實務深化 (Expert Refinement)

**目標：依據您的實務經驗，深度客製化特殊工法與法規邏輯。**

* **v6.18**：明確定義外牆工期公式 (層數 x 12天 x 材質係數)。
* **v6.19**：**鋼構工期校正**。SRC 調為 25 天、SC 21 天、SS 7 天 (一節)。
* **v6.20**：**RC 工期校正**。地上 RC 結構由 14 天調升至 **25 天/層**。
* **v6.21**：**危評自動偵測**。系統自動依樓高/開挖深度判斷是否需結構外審或丁類危評。
* **v6.22**：優化危評提示文字，明確標示法規門檻 (50m/80m/15m)。
* **v6.23**：**地下結構精細化**。基準改為 **38 天/層**，並將「拆撐工程」獨立為 **10 天/層** (僅順打觸發)。
* **v6.24**：危評改為 **「手動勾選機制」**，保留彈性並增加防呆提示框。
* **v6.25**：**拆除工期大幅校正**。地下破除調升至 135 天，全棟拆除調升至 180 天，反映實務難度。
* **v6.26**：**連續壁假設工程**。選擇連續壁時，自動增加導溝、鋪面、沉澱池的佈設工期。
* **v6.27**：基礎選單整合。改為 **「樁筏共構」** 邏輯 (如：筏式基礎 + 全套管基樁)。

## 🔧 第五階段：特殊工法與最終優化 (Advanced Methods & UI)

**目標：完善逆打工法、地中障礙處理與操作體驗。**

* **v6.28**：**逆打工法 (Top-Down) 深化**。
* 新增 **「逆打鋼柱 (Plunge Columns)」** 施作工期。
* 地下結構效率係數 x1.2。


* **v6.29**：**逆打擋土邏輯修正**。
* 逆打時強制鎖定「樓板支撐」。
* 自動將「臨時支撐架設」工期歸零。


* **v6.30**：修復危評提示文字顯示問題。
* **v6.31**：**塔吊邏輯 (Tower Crane)**。
* 針對鋼構或高層建築 (15F+)，強制插入 **「塔吊安裝與安檢」** (20天) 於地上結構之前。


* **v6.32**：**舊地下室回填策略**。新增「不回填 (架設施工構台)」選項，影響拆除與連續壁前置時間。
* **v6.33**：**地中障礙清障策略**。新增 **「深導溝」** (分先回填/邊回填) 與 **「全套管清障」** (含回填CLSM+地改) 的細部邏輯。
* **v6.34**：UI 大改版。依照 **「施工順序」** 重組參數面板 (構造 -> 基地 -> 基礎 -> 量體 -> 外觀)。
* **v6.35**：修復變數錯誤，並將核心構造參數 (類型/工法/結構) 進行水平對齊優化。
* **v6.36 (目前版本)**：**最終版面配置**。
* 第一區塊整合「地上/地下結構」。
* 將「外牆/納入工項」移至最後。
* 完成全系統邏輯檢核。
---

## ⚠️ 免責聲明


本系統提供之工期僅供 **規劃階段參考 (Reference Only)**。實際工期應視詳細設計圖說、地質鑽探報告、交通維持計畫、鄰房現況及承攬營造廠之施工計畫而定。
